<div style="margin-left: 35;">
<h1>composition vs inheritance</h1>
<br>
<p>composition hiểu đơn giản là nó có thành phần của các class khác <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance">(theo wiki)</a> </p>
<p>còn inheritance thì nó mang tính kế thừa nghĩa là sẽ có tất cả cái gì trong class khác</p>
<br>
<p>ví dụ cho dễ hiểu</p>
<img src="https://dustinewers.com/wp-content/uploads/2017/09/Classes.png">
<br>
<p>vấn đề</p>
<pre>
public class X{
  public void do(){
  }
}
Public Class Y extends X{
  public void work(){
      do();
  }
}
</pre>
<p>ta tháy class y có kết nói mạnh với class x (inheritance). nếu class x thay đổi có thể sẽ dẫn đến class y hỏng nghiêm trọng</p>
<p>giả sử trong tương lai ta thêm 1 method work vào class x</p>
<pre>
  public int work(){
}
</pre>
<p>class x được thay đổi nhưng sẽ dẫn đến class y ko thể thực hiện</p>
<p>vậy trong tương lai sẽ còn có nhiều các thay đổi ở class x mà mình không thể biết nó có dẫn tới thay đổi ở các subclass không</p>
<br>
<p>nên để tránh trường hợp trên ta sẽ dùng composition</p>
<p>vẫn ví dụ trên ta sẽ thay đổi nó 1 chút </p>
<pre>
  public class X{
    public void do(){
    }
}

Public Class Y{
    X x = new X();
    public void work(){
        x.do();
    }
}
</pre>
<p>ta tạo 1 reference của class x trong y class và lấy method trong x class bằng cách tạo 1 instance của class x</p>
<p>vậy giờ class y không còn mối quan hệ ràng buộc với x. class x có thể thay đổi mà không dẫn đến thay đổi của class y</p>
<br>
<p>1 vài lý do không nên dùng inheritance <a href="detail.html">(TL;DR)</a></p>
<br>
<p>The fragile base class problem</p>
<p>class có tính inheritance có quan hệ chặt chẽ nên có thể 1 vài thay đổi nhỏ ở base class sẽ dẫn đến child class bị hỏng</p>
<br>
<p>The gorilla/banana problem</p>
<p>class inheritance thì không thể chọn được code nào trong base class để dùng. nhưng composition thì có thể</p>
<p>dẫn đến trường hợp mình muốn lấy quả chuối nhưng lại lấy cả con khỉ cầm quả chuối và cả khu rừng</p>
</div>
